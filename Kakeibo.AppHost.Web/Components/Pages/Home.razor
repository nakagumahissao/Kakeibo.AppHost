@page "/"


@rendermode InteractiveServer
@inject IStringLocalizer<SharedResources> L
@inject IStringLocalizerFactory LocalizerFactory

<PageTitle>@L["Home"]</PageTitle>

@using System.Globalization

<p>UI Culture: @CultureInfo.CurrentUICulture.Name</p>
<p>Culture: @CultureInfo.CurrentCulture.Name</p>

<h1>
    @L["BoasVindas"]
</h1>
<h1>@L["BoasVindas"] (@CultureInfo.CurrentUICulture.Name)</h1>
<p>
    @L["Organizar suas finanças não precisa ser complicado. O Kakeibo foi criado para ajudar você a entender para onde seu dinheiro vai, tomar decisões mais conscientes e construir hábitos financeiros saudáveis — tudo de forma simples, intuitiva e inspirada no tradicional método japonês de gestão financeira."]
</p>

<p>
    @L["Com o Kakeibo, você pode:"]
</p>

<ul>
    <li>@L["Registrar seus gastos rapidamente"]</li>
    <li>@L["Estabelecer metas de economia"]</li>
    <li>@L["Acompanhar gráficos claros e objetivos"]</li>
    <li>@L["Refletir sobre seus hábitos de consumo"]</li>
    <li>@L["Planejar um futuro financeiro mais tranquilo"]</li>
</ul>

<p>
    @L["Dê o primeiro passo para transformar sua relação com o dinheiro."]
</p>

<p>
    @L["Kakeibo: simplicidade, consciência e equilíbrio nas suas finanças."]
</p>


<pre>@DebugInfo</pre>

@code {
    string DebugInfo = "";

    protected override void OnInitialized()
    {
        var localizer = LocalizerFactory.Create(typeof(SharedResources));

        var rmField = localizer
            .GetType()
            .GetField("_resourceManager",
                System.Reflection.BindingFlags.NonPublic |
                System.Reflection.BindingFlags.Instance);

        if (rmField?.GetValue(localizer) is System.Resources.ResourceManager rm)
        {
            DebugInfo =
                $"Resource BaseName: {rm.BaseName}\n" +
                $"Assembly: {typeof(SharedResources).Assembly.FullName}\n" +
                $"UI Culture: {CultureInfo.CurrentUICulture.Name}";
        }
        else
        {
            DebugInfo = "Could not retrieve ResourceManager";
        }
    }
}
